<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team1.workforest.admin.reservation.mapper.AdminResveMapper">
	
	<!-- 회의실 정보 resultMap -->
	<resultMap type="mtrVO" id="mtrMap">
		<result property="mtrNo" column="MTR_NO"/>
		<result property="mtrLoc" column="MTR_LOC"/>
		<result property="mtrNm" column="MTR_NM"/>
		<result property="aceptblNmpr" column="ACEPTBL_NMPR"/>
		<result property="photoUrl" column="PHOTO_URL"/>
		<result property="usePosblYnCd" column="USE_POSBL_YN_CD"/>
		<collection property="mtrEquipedList" resultMap="mtrEquipedMap"></collection>
	</resultMap>
	<resultMap type="mtrEquipmentVO" id="mtrEquipedMap">
		<result property="eqpmnNo" column="EQPMN_NO"/>
		<result property="mtrNo" column="MTR_NO"/>
		<result property="equipYnCd" column="EQUIP_YN_CD"/>
	</resultMap>
	
	<!-- 회의실 목록 불러오기 -->
	<select id="getMtrList" resultMap="mtrMap">
		SELECT 
                  M.MTR_NO				<!-- 회의실 번호 -->				
    			, M.MTR_LOC				<!-- 회의실 위치 -->	
   				, M.MTR_NM				<!-- 회의실 이름 -->	
                , M.ACEPTBL_NMPR    	<!-- 수용 가능 인원 -->
    			, M.PHOTO_URL			<!-- 사진 URL -->		
    			, M.USE_POSBL_YN_CD		<!-- 사용 가능 여부 코드 -->
    			, E.EQPMN_NO			<!-- 장비 번호 -->
    			, E.EQUIP_YN_CD			<!-- 장비 보유 여부 코드 -->
		FROM 
    			MEETINGROOM M INNER JOIN MEETINGROOM_EQUIPMENT E ON M.MTR_NO = E.MTR_NO
	</select>
	
	<select id="getCarList" resultType="carVO">
		SELECT 
                  CAR_NO				<!-- 차량 번호 -->				
    			, CAR_NM				<!-- 차량명 -->	
   				, PHOTO_URL				<!-- 사진 URL -->	
    			, USE_POSBL_YN_CD		<!-- 사용 가능 여부 코드 -->
    			
		FROM 
    			CAR
	</select>

</mapper>