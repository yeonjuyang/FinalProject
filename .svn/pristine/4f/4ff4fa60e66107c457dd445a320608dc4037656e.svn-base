<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8" %>
	<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags" %>
	<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
		<script type="text/javascript" src="/resources/js/jquery.min.js"></script>

		<script>
			$(() => {

				$('.ck-blurred').keydown(function () {
					console.log("str : " + window.editor.getData());
					$("#sugestBrdCn").val(window.editor.getData());
				});

				$('.ck-blurred').on("focusout", function () {
					$("#sugestBrdCn").val(window.editor.getData());
				});



			});
			
			function displayFileInfo() {
	            // 파일 입력 필드 요소 가져오기
	            var fileInput = document.getElementById('fileInput');
				console.log("fileInput -> ",fileInput);
	            // 선택된 파일 가져오기
	            var file = fileInput.files[0];
				console.log("file -> ",file);
	            // 파일 정보 표시할 요소 가져오기
	            var fileInfoElement = document.getElementById('fileInfo');
				console.log("fileInfoElement -> ",fileInfoElement);

	            if (file) {
	                // 파일 이름 표시
	                fileInfoElement.innerHTML = '<p>File Name: ' + file.name + '</p>';
	                // 파일 크기 표시 (단위: 바이트)
	                fileInfoElement.innerHTML += '<p>File Size: ' + file.size + ' bytes</p>';
	                // 파일 유형 표시
	                fileInfoElement.innerHTML += '<p>File Type: ' + file.type + '</p>';
	            } else {
	                // 파일이 선택되지 않은 경우 메시지 표시
	                fileInfoElement.innerHTML = '<p>No file selected</p>';
	            }
	        }
			
		</script>
		<!DOCTYPE html>
		<html lang="en">

		<body>
			<p>${vo}</p>
			<canvas id="gradient"></canvas>
			<div class="main-container">
				<div class="content-wrap">
					<main class="custom">
						<div class="wf-main-container"">
								<form action=" /suggestion/updateSuggest?${_csrf.parameterName}=${_csrf.token}" method="post"
							enctype="multipart/form-data">
							<!-- =============== body 시작 =============== -->
							<!-- =============== 상단타이틀영역 시작 =============== -->
							<div class=" wf-tit-wrap">
								<h1 class="page-tit">건의 게시판</h1>
								<div class="wf-util">
									<button type="button" class="btn1"
										onclick="location.href='http://localhost/suggestion/list'">취소</button>
									<!-- 등록폼 시작 -->

									<input type="hidden" id="sugestBrdNo" name="sugestBrdNo"
										value="${vo.sugestBrdNo}" />
									<button id="suggestionSubmit" type="submit" class="btn2">수정</button>
								</div>
							</div>
							<!-- =============== 상단타이틀영역 끝 =============== -->
							<!-- =============== 컨텐츠 영역 시작 =============== -->
							<div class="wf-content-wrap">
								<div class="wf-content-area">

									<ul class="wf-insert-form3">
										<li><input type="hidden" id="empNo" name="empNo"
												value="<%=session.getAttribute(" empNo")%>">
											<div class="wf-insert-tit">
												<input type="text" id="sugestBrdSj" name="sugestBrdSj"
													placeholder="제목을 입력해주세요" value="${vo.sugestBrdSj }">
											</div>
										</li>
										<li>
											<div id="ckExam"></div> <textarea name="sugestBrdCn" id="sugestBrdCn"
												name="sugestBrdCn" value="${vo.sugestBrdCn}"
												style="display: none;"></textarea>
										</li>
										<li><input type="file" name="uploadfile" id="atchmnflNo" multiple></li>
										<!-- 기존 파일 여부 -->
									</ul>
									<!-- 등록폼 끝 -->
								</div>
							</div>
							<!-- =============== 컨텐츠 영역 끝 =============== -->
							<!-- =============== body 끝 =============== -->
							</form>
							
						</div>
					</main>
				</div>
			</div>
		</body>

		</html>

		<script type="text/javascript">
			ClassicEditor
				.create(document.querySelector('#ckExam'), { ckfinder: { uploadUrl: '/upload/uploads?${_csrf.parameterName}=${_csrf.token}' } })
				.then(editor => { window.editor = editor; })
				.catch(err => { console.error(err.stack); });
		</script>
		<script type="text/javascript">
			window.editor.setData("${vo.sugestBrdCn}");
		</script>