<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team1.workforest.schedulerUtil.mapper.SchedulerMapper">
	
	<select id="getMtr" resultType="String">
		SELECT MTR_NO
		FROM MEETINGROOM
		ORDER BY MTR_NO ASC
	</select>
	
	<select id="getMtrReservation" parameterType="String" resultType="mtrReservationVO">
		SELECT MR.MTR_RESVE_NO, MR.MTR_NO, MR.EMP_NO, MR.RESVE_BEGIN_DATE, MR.RESVE_END_DATE, MR.RESVE_CN, M.MTR_NM, M.MTR_LOC
		FROM MEETINGROOM_RESERVATION MR, MEETINGROOM M
		WHERE M.MTR_NO = #{mtrNo}
		AND (RESVE_BEGIN_DATE - SYSDATE)*24*60 BETWEEN 25 AND 35
		AND MR.MTR_NO = M.MTR_NO
	</select>
	
	<select id="getAttendanceList" resultType="attendanceManageVO">
		SELECT EMP_NO, ROUND((8 - ((SYSDATE - ATTEND_TIME) * 24)),1) as total
		FROM ATTENDANCE_MANAGE
		WHERE TO_CHAR(SYSDATE, 'YYYY-MM-DD') = TO_CHAR(ATTEND_TIME, 'YYYY-MM-DD')
	</select>
	
	<select id="getEmpList" resultType="String">
		SELECT EMP_NO
		FROM EMPLOYEE E, USER_SETUP_NTCN_MATTER US 
		WHERE US.USER_SETUP_NTCN_MATTER = E.EMP_NO
		AND SETUP_NTCN_NM = "출근알림"
		AND NTCN_YN_CD = "Y"
	</select>
	
</mapper>